<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Beat Mash</title>
    <meta content="Beat Mash" property="og:title" />
    <meta content="Mash to the music!" property="og:description" />
    <meta content="https://matthewchen146.github.io/beat-mash/" property="og:url" />
    <meta content="./thumb.png" property="og:image" />
    <meta name="twitter:card" content="summary_large_image">
    <meta content="#FFD800" data-react-helmet="true" name="theme-color" />
    <meta
      name="viewport"
      content="width=device-width, height=device-height,
    user-scalable=no, initial-scale=1, maximum-scale=1"
    />
    <script src="https://unpkg.com/sounds-some-sounds@3.0.0/build/index.js"></script>
    <script src="https://unpkg.com/gif-capture-canvas@1.1.0/build/index.js"></script>
    <script src="https://unpkg.com/pixi.js@5.3.0/dist/pixi.min.js"></script>
    <script src="https://unpkg.com/pixi-filters@3.1.1/dist/pixi-filters.js"></script>
    <script src="https://unpkg.com/crisp-game-lib@1.1.0/docs/bundle.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/howler/2.2.3/howler.min.js"></script>

    <script src="midiplayer.js"></script>
    <script src="main.js"></script>

    <style>
      #menu {
        position: fixed; 
        z-index: 100; 
        font-family: 'Courier New', Courier, monospace; 
        background-color: black;
        border-radius: 10px; 
        padding: 5px;
        opacity: .2;
        width: 50px;
        height: 20px;
        transition: opacity 100ms;
        overflow: hidden;
      }

      #menu:hover {
        opacity: 1;
        width: auto;
        height: auto;
      }
    </style>

<script>

</script>

  </head>
  <body style="background: #ddd">
    <div id="menu">
      Menu
      <p>Volume</p>
      <input type="range" name="" id="volumeControl" value="100">
      <p>Beat track</p>
      <select name="" id="trackSelect">
        <option value="36">Kick</option>
        <option value="38">Snare</option>
      </select>
      <p>Speed</p>
      <input type="range" name="" id="speedControl" value="2" min="1" max="10"><label id="speedLabel">2</label>
      <p>Press Offset</p>
      <input type="range" name="" id="offsetControl" value="5" min="-20" max="20"><label id="offsetLabel">5</label>
      <p>
        Credits:<br>
        Mastodon - <br>
        Blood and Thunder<br>
        <a href="https://tabs.ultimate-guitar.com/tab/mastodon/blood-and-thunder-guitar-pro-251805">Original Tab</a><br>
        <a href="http://tuxguitar.com.ar/">TuxGuitar Sound Fonts</a><br>
        <a href="https://github.com/grimmdude/MidiPlayerJS">MidiPlayerJS</a><br>
        <a href="https://github.com/goldfire/howler.js">Howler.js</a><br>
        <a href="https://github.com/abagames/crisp-game-lib">crisp-game-lib</a>
      </p>
      
      <script>
        let menuDiv = document.querySelector('#menu');
        let volumeControl = document.querySelector('#volumeControl');

        volumeControl.addEventListener('input', (e) => {
          let value = e.target.value;
          Howler.volume(value / 100)
        })

        let trackSelect = document.querySelector('#trackSelect');
        trackSelect.addEventListener('change', (e) => {
          let value = e.target.value;
          trackedNote = parseInt(value);
        })
        let speedControl = document.querySelector('#speedControl');
        let speedLabel = document.querySelector('#speedLabel');
        speedControl.addEventListener('input', (e) => {
          let value = e.target.value;
          speedScale = parseInt(value);
          speedLabel.textContent = value;
        })
        let offsetControl = document.querySelector('#offsetControl');
        let offsetLabel = document.querySelector('#offsetLabel');
        offsetControl.addEventListener('input', (e) => {
          let value = e.target.value;
          pressOffset = parseInt(value);
          offsetLabel.textContent = value;
        })
      </script>
    </div>
    
  </body>
  
</html>